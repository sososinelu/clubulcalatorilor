{"version":3,"sources":["scripts.js"],"names":["equalizeHeights","selector","heights","Array","jQuery","each","this","css","push","outerHeight","max","Math","apply","$","document","ready","hidePopup","notification","is","velocity","opacity","hide","close_button","click","show","body","addClass","scrollTop","window","resize","event","removeClass","attr","parents","first","on","val","Drupal","behaviors","attach","context","settings","scrollFunction","documentElement","onscroll","target","hash","length","slice","preventDefault","animate","offset","top","$target","focus"],"mappings":"AA0EA,QAASA,iBAAgBC,GACvB,GAAIC,GAAU,GAAIC,MAIlBC,QAAOH,GAAUI,KAAK,WAGpBD,OAAOE,MAAMC,IAAI,aAAc,KAC/BH,OAAOE,MAAMC,IAAI,aAAc,QAC/BH,OAAOE,MAAMC,IAAI,SAAU,QAG3BL,EAAQM,KAAKJ,OAAOE,MAAMG,gBAI5B,IAAIC,GAAMC,KAAKD,IAAIE,MAAOD,KAAMT,EAGhCE,QAAOH,GAAUI,KAAK,WACpBD,OAAOE,MAAMC,IAAI,SAAUG,EAAM,SA7FrC,SAAUG,GACRA,EAAEC,UAAUC,MAAM,WAkChB,QAASC,KACJC,EAAaC,GAAG,aACjBD,EAAaE,UAAUC,QAAS,GAAI,IAAK,WACvCH,EAAaI,SApCnB,GAAIJ,GAAeJ,EAAE,YACjBS,EAAeT,EAAE,iBAErBA,GAAE,8CAA8CU,MAAM,WACpDN,EAAaO,OAGbX,EAAEC,SAASW,MAAMC,SAAS,YAC1BT,EAAaE,UAAUC,QAAS,IAChCH,EAAaU,UAAY,IAG3Bd,EAAEe,QAAQC,OAAO,cAUjBP,EAAaC,MAAM,SAASO,GAC1Bd,IACAH,EAAEC,SAASW,MAAMM,YAAY,iBAkBhC3B,QAIF,SAAUS,GACTA,EAAEC,UAAUC,MAAM,WAGhBF,EAAE,eAAemB,KAAK,cAAe,sBAErCnB,EAAE,6BAA6BR,KAAK,WAClCQ,EAAEP,MAAM2B,QAAQ,cAAcC,QAAQR,SAAS,WAGjDb,EAAE,wBAAwBsB,GAAG,QAAQ,WACnCtB,EAAE,4BAA4BR,KAAK,WAC7BQ,EAAEP,MAAM8B,OACVvB,EAAEP,MAAM2B,QAAQ,cAAcC,QAAQR,SAAS,gBAMvDtB,QA+BF,SAAUS,GACRwB,OAAOC,UAAUtC,iBACfuC,OAAQ,SAAUC,EAASC,GACzBzC,qBAGHI,QAGH,SAAUS,GAIR,QAAS6B,KACH5B,SAASW,KAAKE,UAAY,IAAMb,SAAS6B,gBAAgBhB,UAAY,GACvEd,EAAE,QAAQW,OAEVX,EAAE,QAAQQ,OANdO,OAAOgB,SAAW,WAAYF,KAYhC7B,EAAE,gBACCU,MAAM,SAASO,GAIZ,GAAIe,GAAShC,EAAEP,KAAKwC,KACpBD,GAASA,EAAOE,OAASF,EAAShC,EAAE,SAAWP,KAAKwC,KAAKE,MAAM,GAAK,KAEhEH,EAAOE,SAETjB,EAAMmB,iBACNpC,EAAE,cAAcqC,SACdvB,UAAWkB,EAAOM,SAASC,KAC1B,IAAK,WAIN,GAAIC,GAAUxC,EAAEgC,EAEhB,OADAQ,GAAQC,SACJD,EAAQnC,GAAG,YAGbmC,EAAQrB,KAAK,WAAW,UACxBqB,GAAQC,eAKjBlD","file":"../scripts.js","sourcesContent":["\n\n(function($) {\n  $(document).ready(function() {\n    var notification = $('.overlay');\n    var close_button = $('.overlay-close');\n\n    $('#block-homepagehowitworksblock .panel span').click(function() {\n      notification.show();\n      //centrePopup();\n\n      $(document.body).addClass('noscroll');\n      notification.velocity({opacity: 1});\n      notification.scrollTop = 0;\n    });\n\n    $(window).resize(function() {\n      //centrePopup();\n    });\n\n    // $(document).click(function(event) {\n    //   if(!$(event.target).closest('.notification-inner').length) {\n    //     hidePopup();\n    //   }\n    // });\n\n    close_button.click(function(event) {\n      hidePopup();\n      $(document.body).removeClass('noscroll');\n    });\n\n    function centrePopup() {\n      var popupHeight = notification.height();\n      var marginTop = popupHeight / 2;\n      notification.css('margin-top', '-' + marginTop + 'px');\n    }\n\n    function hidePopup() {\n      if(notification.is(\":visible\")) {\n        notification.velocity({opacity: 0}, 400, function(){\n          notification.hide();\n        });\n      }\n    }\n\n  });\n})(jQuery);\n/*\n * form styling\n */\n(function ($) {\n  $(document).ready(function() {\n\n    // Add placeholder to signup form\n    $('.form-email').attr('placeholder', 'Adresa ta de email');\n\n    $('input.error, select.error').each(function() {\n      $(this).parents('.form-item').first().addClass('error');\n    });\n\n    $('input[type=\"submit\"]').on('click',function() {\n      $(':input[required]:visible').each(function() {\n        if(!$(this).val()){\n          $(this).parents('.form-item').first().addClass('error');\n        }\n      });\n    });\n\n  });\n}(jQuery));\n\n/*\n * Equalise heights\n */\nfunction equalizeHeights(selector) {\n  var heights = new Array();\n\n\n  // Loop to get all element heights\n  jQuery(selector).each(function() {\n\n    // Need to let sizes be whatever they want so no overflow on resize\n    jQuery(this).css('min-height', '0');\n    jQuery(this).css('max-height', 'none');\n    jQuery(this).css('height', 'auto');\n\n    // Then add size (no units) to array\n    heights.push(jQuery(this).outerHeight());\n  });\n\n  // Find max height of all elements\n  var max = Math.max.apply( Math, heights );\n\n  // Set all heights to max height\n  jQuery(selector).each(function() {\n    jQuery(this).css('height', max + 'px');\n  });\n}\n\n// call equalizeHeights() when using ajax\n(function($) {\n  Drupal.behaviors.equalizeHeights = {\n    attach: function (context, settings) {\n      equalizeHeights();\n    }\n  };\n})(jQuery);\n\n// scroll to the top\n(function($) {\n  // When the user scrolls down 20px from the top of the document, show the button\n  window.onscroll = function() {scrollFunction()};\n\n  function scrollFunction() {\n    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n      $(\".top\").show();\n    } else {\n      $(\".top\").hide();\n    }\n  }\n\n\n// Select all links with hashes\n$('a[href*=\"#\"]')\n  .click(function(event) {\n\n    // On-page links\n      // Figure out element to scroll to\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      // Does a scroll target exist?\n      if (target.length) {\n        // Only prevent default if animation is actually gonna happen\n        event.preventDefault();\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 800, function() {\n\n          // Callback after animation\n          // Must change focus!\n          var $target = $(target);\n          $target.focus();\n          if ($target.is(\":focus\")) { // Checking if the target was focused\n            return false;\n          } else {\n            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable\n            $target.focus(); // Set focus again\n          };\n        });\n      }\n  })\n})(jQuery);\n"]}